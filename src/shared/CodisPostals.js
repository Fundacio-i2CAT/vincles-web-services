//@flow

export function esBarcelona(codiPostal: string) {
  const codiPostalNum = parseInt(codiPostal, 10);
  return (
      (codiPostalNum >= 8001 && codiPostalNum <= 8042) ||
      codiPostalNum === 8196 ||
      codiPostalNum === 8830 ||
      codiPostalNum === 8903 ||
      codiPostalNum === 8904 ||
      codiPostalNum === 8930 ||
      codiPostalNum === 8960
  );
}

export function esCatalunya(codipostal: string) {
  const dosPrimersDigits = codipostal.substring(0, 1);

  const CPBarcelona = '08';
  const CPGirona = '17';
  const CPLleida = '25';
  const CPTarragona = '43';

  return (
      dosPrimersDigits === CPBarcelona ||
      dosPrimersDigits === CPGirona ||
      dosPrimersDigits === CPLleida ||
      dosPrimersDigits === CPTarragona
  );
}

export function esBarcelonaCiutat(codi_postal: number) {
  const codis_postals_barcelona_ciutat = [
    8001,
    8002,
    8003,
    8004,
    8005,
    8006,
    8007,
    8008,
    8009,
    8010,
    8011,
    8012,
    8013,
    8014,
    8015,
    8016,
    8017,
    8018,
    8019,
    8020,
    8021,
    8022,
    8023,
    8024,
    8025,
    8026,
    8027,
    8028,
    8029,
    8030,
    8031,
    8032,
    8033,
    8034,
    8035,
    8036,
    8037,
    8038,
    8039,
    8040,
    8041,
    8042,
    8075,
    8196,
    8830,
    8903,
    8904,
    8930,
    8960
  ];
  return codis_postals_barcelona_ciutat.indexOf(codi_postal) !== -1;
}

const codisPostalsZonaA = [
  '08328',
  '08350',
  '08358',
  '08310',
  '08911',
  '08912',
  '08913',
  '08914',
  '08915',
  '08916',
  '08917',
  '08918',
  '08001',
  '08002',
  '08003',
  '08004',
  '08005',
  '08006',
  '08007',
  '08008',
  '08009',
  '08010',
  '08011',
  '08012',
  '08013',
  '08014',
  '08015',
  '08016',
  '08017',
  '08018',
  '08019',
  '08020',
  '08021',
  '08022',
  '08023',
  '08024',
  '08025',
  '08026',
  '08027',
  '08028',
  '08029',
  '08030',
  '08031',
  '08032',
  '08033',
  '08034',
  '08035',
  '08036',
  '08037',
  '08038',
  '08039',
  '08040',
  '08041',
  '08042',
  '08349',
  '08348',
  '08393',
  '08140',
  '08211',
  '08860',
  '08940',
  '08318',
  '08319',
  '08950',
  '08850',
  '08400',
  '08901',
  '08902',
  '08903',
  '08904',
  '08905',
  '08906',
  '08907',
  '08908',
  '08120',
  '08107',
  '08320',
  '08230',
  '08301',
  '08302',
  '08303',
  '08304',
  '08750',
  '08100',
  '08104',
  '08110',
  '08390',
  '08160',
  '08170',
  '08810',
  '08317',
  '08753',
  '08780',
  '08754',
  '08150',
  '08213',
  '08820',
  '08330',
  '08291',
  '08430',
  '08191',
  '08201',
  '08202',
  '08203',
  '08204',
  '08205',
  '08206',
  '08207',
  '08208',
  '08930',
  '08740',
  '08392',
  '08830',
  '08190',
  '08195',
  '08196',
  '08197',
  '08198',
  '08105',
  '08980',
  '08339',
  '08970',
  '08340',
  '08960',
  '08338',
  '08810',
  '08812',
  '08192',
  '08690',
  '08921',
  '08922',
  '08923',
  '08924',
  '08210',
  '08106',
  '08130',
  '08394',
  '08193',
  '08290',
  '08181',
  '08870',
  '08871',
  '08221',
  '08222',
  '08223',
  '08224',
  '08225',
  '08226',
  '08227',
  '08228',
  '08329',
  '08391',
  '08188',
  '08840',
  '08800',
  '08410',
  '08214',
  '017001',
  '017002',
  '017003',
  '017004',
  '017005',
  '017006',
  '017007',
  '017461',
  '043001',
  '043002',
  '043003',
  '043004',
  '043005',
  '043006',
  '043007',
  '043008',
  '043100',
  '043130',
];


const codispostalsZonaB = [
  '08630',
  '08480',
  '08859',
  '08600',
  '08370',
  '08470',
  '08360',
  '08420',
  '08530',
  '08440',
  '08755',
  '08251',
  '08769',
  '08756',
  '08758',
  '08757',
  '08880',
  '08292',
  '08470',
  '08520',
  '08530',
  '08790',
  '08700',
  '08450',
  '08186',
  '08185',
  '08380',
  '08560',
  '08240',
  '08760',
  '08270',
  '08640',
  '08389',
  '08184',
  '08784',
  '08397',
  '08650',
  '08251',
  '08359',
  '08470',
  '08476',
  '08396',
  '08849',
  '08635',
  '08272',
  '08636',
  '08395',
  '08770',
  '08187',
  '08710',
  '08730',
  '08398',
  '08620',
  '08490',
  '08570',
  '08629',
  '08231',
  '08233',
  '08470',
  '08759',
  '08500',
  '08232',
  '08720',
  '08455',
  '08756',
  '017537',
  '017213',
  '017255',
  '017820',
  '017100',
  '017300',
  '017488',
  '017251',
  '017252',
  '017244',
  '017486',
  '017487',
  '017248',
  '017249',
  '017250',
  '017460',
  '017130',
  '017484',
  '017600',
  '017458',
  '017240',
  '017490',
  '017310',
  '017800',
  '017810',
  '017124',
  '017200',
  '017210',
  '017211',
  '017212',
  '017230',
  '017256',
  '017256',
  '017489',
  '017520',
  '017529',
  '017241',
  '017242',
  '017500',
  '017480',
  '017190',
  '017220',
  '017150',
  '017151',
  '017430',
  '017240',
  '017245',
  '017246',
  '017840',
  '017489',
  '017130',
  '017320',
  '017180',
  '017740',
  '017244',
  '025171',
  '025180',
  '025193',
  '025660',
  '025100',
  '025110',
  '025539',
  '025598',
  '025599',
  '025600',
  '025220',
  '025250',
  '025720',
  '025400',
  '025200',
  '025001',
  '025002',
  '025003',
  '025004',
  '025005',
  '025006',
  '025007',
  '025008',
  '025111',
  '025113',
  '025191',
  '025192',
  '025193',
  '025194',
  '025195',
  '025196',
  '025197',
  '025198',
  '025199',
  '025230',
  '025280',
  '025514',
  '025520',
  '025514',
  '025700',
  '025710',
  '025280',
  '025560',
  '025567',
  '025568',
  '025569',
  '025300',
  '025350',
  '025351',
  '025352',
  '025353',
  '025354',
  '025360',
  '025110',
  '025123',
  '025131',
  '022583',
  '022584',
  '025620',
  '025633',
  '025634',
  '025635',
  '025636',
  '025637',
  '025640',
  '025654',
  '025530',
  '025537',
  '025538',
  '025539',
  '043893',
  '043549',
  '043870',
  '043879',
  '043820',
  '043882',
  '043850',
  '043839',
  '043881',
  '043730',
  '043780',
  '043400',
  '043410',
  '043414',
  '043415',
  '043459',
  '043300',
  '043892',
  '043740',
  '043151',
  '043761',
  '043201',
  '043202',
  '043203',
  '043204',
  '043205',
  '043206',
  '043762',
  '043883',
  '043830',
  '043500',
  '043510',
  '043517',
  '043527',
  '043590',
  '043897',
  '043491',
  '043800',
  '043700',
  '043880',
  '043206',
  '043480',
  '043481',
  '043840',
  '043895',
  '043110',
];

const codisPostalsZonaC = [
  '08256',
  '08587',
  '08271',
  '08610',
  '08699',
  '08279',
  '08734',
  '08793',
  '08798',
  '08591',
  '08695',
  '08550',
  '08660',
  '08415',
  '08416',
  '08619',
  '08294',
  '08553',
  '08794',
  '08785',
  '08280',
  '08275',
  '08281',
  '08519',
  '08262',
  '08445',
  '08811',
  '08786',
  '08619',
  '08261',
  '08787',
  '08693',
  '08619',
  '08696',
  '08296',
  '08183',
  '08619',
  '08729',
  '08732',
  '08259',
  '08281',
  '08297',
  '08719',
  '08183',
  '08732',
  '08540',
  '08293',
  '08178',
  '08281',
  '08148',
  '08699',
  '08495',
  '08519',
  '08259',
  '08736',
  '08146',
  '08680',
  '08695',
  '08792',
  '08183',
  '08474',
  '08253',
  '08694',
  '08503',
  '08719',
  '08779',
  '08589',
  '08519',
  '08510',
  '08508',
  '08509',
  '08782',
  '08783',
  '08773',
  '08691',
  '08275',
  '08505',
  '08619',
  '08589',
  '08612',
  '08590',
  '08460',
  '08180',
  '08279',
  '08269',
  '08670',
  '08699',
  '08711',
  '08611',
  '08699',
  '08734',
  '08799',
  '08795',
  '08519',
  '08573',
  '08787',
  '08796',
  '08589',
  '08781',
  '08733',
  '08787',
  '08696',
  '08738',
  '08281',
  '08513',
  '08797',
  '08692',
  '08282',
  '08619',
  '08256',
  '08299',
  '08254',
  '08510',
  '08719',
  '08619',
  '08281',
  '08699',
  '08589',
  '08459',
  '08519',
  '08589',
  '08798',
  '08461',
  '08782',
  '08182',
  '08274',
  '08512',
  '08619',
  '08250',
  '08269',
  '08504',
  '08782',
  '08791',
  '08212',
  '08592',
  '08712',
  '08731',
  '08282',
  '08263',
  '08269',
  '08776',
  '08572',
  '08458',
  '08777',
  '08580',
  '08189',
  '08519',
  '08508',
  '08507',
  '08505',
  '08792',
  '08589',
  '08511',
  '08569',
  '08619',
  '08787',
  '08273',
  '08460',
  '08295',
  '08571',
  '08698',
  '08553',
  '08554',
  '08589',
  '08589',
  '08739',
  '08260',
  '08519',
  '08593',
  '08279',
  '08552',
  '08511',
  '08551',
  '08789',
  '08775',
  '08737',
  '08785',
  '08699',
  '08289',
  '08613',
  '08788',
  '08519',
  '08735',
  '08569',
  '08694',
  '017181',
  '017733',
  '017734',
  '017136',
  '017469',
  '017538',
  '017170',
  '017160',
  '017401',
  '017402',
  '017853',
  '017472',
  '017742',
  '017468',
  '017483',
  '017141',
  '017850',
  '017162',
  '017163',
  '017182',
  '017850',
  '017851',
  '017539',
  '017462',
  '017770',
  '017400',
  '017441',
  '017723',
  '017761',
  '017745',
  '017746',
  '017747',
  '017455',
  '017456',
  '017834',
  '017530',
  '017534',
  '017457',
  '017867',
  '017199',
  '017708',
  '017750',
  '017534',
  '017856',
  '017464',
  '017741',
  '017469',
  '017496',
  '017844',
  '017845',
  '017121',
  '017722',
  '017538',
  '017405',
  '017753',
  '017463',
  '017133',
  '017463',
  '017538',
  '017257',
  '017833',
  '017469',
  '017476',
  '017466',
  '017780',
  '017539',
  '017257',
  '017528',
  '017450',
  '017539',
  '017143',
  '017700',
  '017709',
  '017462',
  '017745',
  '017243',
  '017869',
  '017730',
  '017527',
  '017462',
  '017851',
  '017539',
  '017452',
  '017720',
  '017721',
  '017412',
  '017868',
  '017855',
  '017856',
  '017253',
  '017744',
  '017861',
  '017772',
  '017161',
  '017476',
  '017495',
  '017843',
  '017534',
  '017133',
  '017494',
  '017493',
  '017120',
  '017491',
  '017492',
  '017172',
  '017173',
  '017535',
  '017706',
  '017834',
  '017846',
  '017497',
  '017178',
  '017254',
  '017534',
  '017404',
  '017420',
  '017421',
  '017179',
  '017457',
  '017469',
  '017853',
  '017457',
  '017751',
  '017451',
  '017174',
  '017850',
  '017164',
  '017199',
  '017403',
  '017854',
  '017464',
  '017860',
  '017463',
  '017481',
  '017482',
  '017732',
  '017152',
  '017153',
  '017164',
  '017462',
  '017475',
  '017467',
  '017864',
  '017865',
  '017470',
  '017771',
  '017154',
  '017171',
  '017811',
  '017857',
  '017465',
  '017467',
  '017165',
  '017166',
  '017852',
  '017133',
  '017869',
  '017410',
  '017161',
  '017166',
  '017171',
  '017134',
  '017731',
  '017123',
  '017474',
  '017141',
  '017257',
  '017258',
  '017853',
  '017133',
  '017140',
  '017538',
  '017176',
  '017177',
  '017178',
  '017814',
  '017813',
  '017858',
  '017253',
  '017137',
  '017472',
  '017473',
  '017475',
  '017142',
  '017515',
  '017411',
  '017760',
  '017464',
  '017137',
  '017468',
  '017833',
  '017406',
  '017483',
  '017493',
  '017869',
  '017474',
  '017469',
  '017781',
  '017743',
  '017485',
  '017466',
  '017183',
  '017184',
  '017185',
  '017723',
  '017116',
  '017121',
  '017110',
  '017111',
  '017113',
  '017164',
  '025611',
  '025691',
  '025692',
  '025310',
  '025317',
  '025331',
  '025221',
  '025135',
  '025450',
  '025120',
  '025130',
  '025125',
  '025573',
  '025574',
  '025575',
  '025187',
  '025126',
  '025737',
  '025586',
  '025587',
  '025589',
  '025320',
  '025140',
  '025551',
  '025150',
  '025730',
  '025736',
  '025737',
  '025738',
  '025739',
  '025617',
  '025611',
  '025612',
  '025182',
  '025513',
  '025590',
  '025591',
  '025592',
  '025262',
  '025526',
  '025527',
  '025528',
  '025266',
  '025337',
  '025336',
  '025721',
  '025724',
  '025142',
  '025144',
  '025132',
  '025551',
  '025550',
  '025794',
  '025613',
  '025615',
  '025692',
  '025548',
  '025154',
  '025265',
  '025136',
  '025334',
  '025213',
  '025460',
  '025793',
  '025794',
  '025137',
  '025737',
  '025597',
  '025580',
  '025571',
  '025244',
  '025737',
  '025332',
  '025241',
  '025716',
  '025177',
  '025210',
  '025282',
  '025285',
  '025260',
  '025261',
  '025650',
  '025430',
  '025540',
  '025240',
  '025571',
  '025576',
  '025577',
  '025594',
  '025726',
  '025266',
  '025184',
  '025211',
  '025179',
  '025139',
  '025242',
  '08281',
  '025315',
  '025616',
  '025724',
  '025725',
  '025594',
  '025711',
  '025712',
  '025714',
  '025795',
  '025172',
  '025340',
  '025790',
  '025790',
  '025794',
  '025610',
  '025611',
  '025612',
  '025614',
  '025243',
  '025693',
  '025284',
  '025240',
  '025261',
  '025333',
  '025335',
  '025790',
  '025143',
  '025500',
  '025513',
  '025740',
  '025746',
  '025749',
  '025526',
  '025529',
  '025552',
  '025554',
  '025555',
  '025556',
  '025134',
  '025721',
  '025263',
  '025727',
  '025153',
  '025594',
  '025713',
  '025714',
  '025795',
  '025796',
  '025797',
  '025124',
  '025693',
  '08289',
  '025270',
  '025271',
  '025282',
  '025211',
  '025555',
  '025555',
  '025183',
  '025222',
  '025566',
  '025569',
  '025593',
  '025181',
  '025173',
  '025174',
  '025630',
  '025640',
  '025213',
  '025670',
  '025791',
  '025750',
  '025331',
  '025510',
  '025511',
  '025512',
  '025513',
  '025515',
  '025141',
  '025138',
  '025170',
  '025182',
  '025798',
  '025617',
  '025680',
  '025340',
  '025330',
  '025552',
  '025553',
  '025551',
  '025264',
  '025735',
  '025736',
  '025738',
  '025133',
  '025245',
  '025690',
  '025440',
  '025570',
  '025571',
  '025572',
  '025576',
  '025588',
  '025597',
  '025213',
  '025714',
  '025795',
  '025211',
  '025794',
  '025112',
  '025114',
  '025721',
  '043714',
  '043815',
  '043716',
  '043718',
  '043479',
  '043530',
  '043569',
  '043460',
  '043591',
  '043381',
  '043528',
  '043365',
  '043813',
  '043393',
  '043860',
  '043365',
  '043720',
  '043773',
  '043597',
  '043791',
  '043711',
  '043715',
  '043422',
  '043429',
  '043786',
  '043719',
  '043512',
  '043747',
  '043717',
  '043411',
  '043884',
  '043350',
  '043772',
  '043812',
  '043811',
  '043364',
  '043392',
  '043150',
  '043764',
  '043560',
  '043427',
  '043120',
  '043784',
  '043360',
  '043362',
  '043592',
  '043773',
  '043440',
  '043781',
  '043364',
  '043736',
  '043811',
  '043750',
  '043515',
  '043749',
  '043748',
  '043777',
  '043596',
  '043427',
  '043712',
  '043715',
  '043514',
  '043878',
  '043718',
  '043382',
  '043736',
  '043747',
  '043736',
  '043340',
  '043812',
  '043714',
  '043715',
  '043718',
  '043812',
  '043364',
  '043459',
  '043770',
  '043760',
  '043763',
  '043887',
  '043152',
  '043155',
  '043519',
  '043428',
  '043429',
  '043594',
  '043423',
  '043810',
  '043140',
  '043817',
  '043364',
  '043320',
  '043891',
  '043812',
  '043715',
  '043816',
  '043513',
  '043886',
  '043450',
  '043790',
  '043771',
  '043390',
  '043330',
  '043812',
  '043520',
  '043529',
  '043142',
  '043885',
  '043540',
  '043548',
  '043713',
  '043570',
  '043420',
  '043429',
  '043710',
  '043718',
  '043428',
  '043424',
  '043428',
  '043427',
  '043154',
  '043765',
  '043470',
  '043412',
  '043511',
  '043320',
  '043746',
  '043792',
  '043550',
  '043363',
  '043427',
  '043144',
  '043813',
  '043890',
  '043891',
  '043763',
  '043886',
  '043141',
  '043311',
  '043312',
  '043380',
  '043814',
  '043490',
  '043430',
  '043448',
  '043792',
  '043391',
  '043580',
  '043877',
  '043879',
  '043894',
  '043896',
];

const codisPostalsZonaD = [
  '08717',
  '043421',
  '08614',
  '08672',
  '08717',
  '08518',
  '08515',
  '08298',
  '08679',
  '017707',
  '017707',
  '017531',
  '017144',
  '017832',
  '017832',
  '017132',
  '017531',
  '017512',
  '017513',
  '017532',
  '017762',
  '017763',
  '017830',
  '017752',
  '017773',
  '017754',
  '017755',
  '017131',
  '017830',
  '017862',
  '017831',
  '017536',
  '017114',
  '025651',
  '025652',
  '025318',
  '025715',
  '025717',
  '025718',
  '025155',
  '025162',
  '025161',
  '025722',
  '025723',
  '025799',
  '025722',
  '025151',
  '025747',
  '025289',
  '025792',
  '025549',
  '025752',
  '025753',
  '025178',
  '025748',
  '025289',
  '025722',
  '025214',
  '025218',
  '025341',
  '025290',
  '025152',
  '025410',
  '025214',
  '025215',
  '025271',
  '025719',
  '025595',
  '025413',
  '025411',
  '025638',
  '025639',
  '025185',
  '025218',
  '025217',
  '025160',
  '025341',
  '025122',
  '025216',
  '025651',
  '025653',
  '025655',
  '025656',
  '025657',
  '025658',
  '025165',
  '025283',
  '025288',
  '025186',
  '025595',
  '025638',
  '025639',
  '025281',
  '025217',
  '025341',
  '025286',
  '025283',
  '025318',
  '025748',
  '025749',
  '025286',
  '025287',
  '025214',
  '025412',
  '025268',
  '025318',
  '025516',
  '025517',
  '025518',
  '025286',
  '025287',
  '025471',
  '025163',
  '025516',
  '025316',
  '025420',
  '025318',
  '025287',
  '025290',
  '025753',
  '025215',
  '025216',
  '025632',
  '025175',
  '025163',
  '08717',
  '025480',
  '025212',
  '025595',
  '025164',
  '025176',
  '025268',
  '025269',
  '025748',
  '025749',
  '025547',
  '025267',
  '025343',
  '025344',
  '025595',
  '025596',
  '025631',
  '025632',
  '025633',
  '025217',
  '025212',
  '025717',
  '025717',
  '025212',
  '025218',
  '043738',
  '043372',
  '043785',
  '043373',
  '043776',
  '043787',
  '043310',
  '043425',
  '043558',
  '043153',
  '043516',
  '043737',
  '043737',
  '043371',
  '043775',
  '043143',
  '043143',
  '043361',
  '043379',
  '043370',
  '043413',
  '043425',
  '043593',
  '043783',
  '043376',
  '043739',
  '043774',
  '043595',
  '043426',
  '043421',
  '043425',
  '043449',
  '043774',
  '043737',
  '043558',
  '043559',
  '043439',
  '043439',
  '043375',
  '043374',
  '043782',
];

const terresDeLEbre = [
  '43500',
  '43511',
  '43512',
  '43513',
  '43514',
  '43515',
  '43516',
  '43519',
  '43520',
  '43540',
  '43550',
  '43370',
  '43530',
  '43559',
  '43558',
  '43560',
  '43570',
  '43580',
  '43592',
  '43593',
  '43594',
  '43595',
  '43596',
  '43597',
  '43740',
  '43746',
  '43747',
  '43748',
  '43749',
  '43750',
  '43780',
  '43781',
  '43782',
  '43783',
  '43784',
  '43785',
  '43786',
  '43787',
  '43790',
  '43791',
  '43792',
  '43870',
  '43877',
  '43878',
  '43894',
  '43895'
];
export const demarcacioDelCodiPostal = (codiPostal: string): string => {
  const CPBarcelona = '08';
  const CPGirona = '17';
  const CPLleida = '25';
  const CPTarragona = '43';

  if (typeof codiPostal !== 'string') return 'desconeguda';

  const dosPrimersDigits = codiPostal.substring(0, 2);
  let result = '';
  if (terresDeLEbre.indexOf(codiPostal) > -1) {
    result = 'terres_de_lebre';
  } else if (esBarcelona(codiPostal)) {
    result = 'barcelona_ciutat'
  } else if (dosPrimersDigits === CPBarcelona) {
    result = 'barcelona_provincia'
  } else if (dosPrimersDigits === CPGirona) {
    result = 'girona'
  } else if (dosPrimersDigits === CPTarragona) {
    result = 'tarragona'
  } else if (dosPrimersDigits === CPLleida) {
    result = 'lleida'
  } else {
    result = 'desconeguda'
  }

  return result;
};

export const zonaDelCodiPostal = (codiPostal: string): string => {
  let result = '';
  if (codisPostalsZonaA.indexOf(codiPostal) > -1) {
    result = 'zona_a';
  } else if (codispostalsZonaB.indexOf(codiPostal) > -1) {
    result = 'zona_b';
  } else if (codisPostalsZonaC.indexOf(codiPostal) > -1) {
    result = 'zona_c';
  } else if (codisPostalsZonaD.indexOf(codiPostal) > -1) {
    result = 'zona_d';
  } else {
    result = 'desconegut';
  }
  return result;
};
